{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Genres=()=>{const[genres,setGenres]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const headers=new Headers();headers.append(\"Content-Type\",\"application/json\");const requestOptions={method:\"GET\",headers:headers};fetch(\"\".concat(process.env.REACT_APP_BACKEND,\"/genres\"),requestOptions).then(response=>response.json()).then(data=>{if(data.error){setError(data.message);}else{setGenres(data);}}).catch(err=>{console.log(err);});},[]);if(error!==null){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error : \",error.message]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Genres\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group\",children:genres.map(g=>/*#__PURE__*/_jsx(Link,{className:\"list-group-item list-group-item-action\",to:\"/genres/\".concat(g.id),state:{genreName:g.genre},children:g.genre},g.id))})]});}};export default Genres;","map":{"version":3,"names":["useEffect","useState","Link","jsxs","_jsxs","jsx","_jsx","Genres","genres","setGenres","error","setError","headers","Headers","append","requestOptions","method","fetch","concat","process","env","REACT_APP_BACKEND","then","response","json","data","message","catch","err","console","log","children","className","map","g","to","id","state","genreName","genre"],"sources":["D:/Go/React-With-Go/go-movies-front-end/src/components/Genres.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Genres = () => {\r\n  const [genres, setGenres] = useState([]);\r\n\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const headers = new Headers();\r\n\r\n    headers.append(\"Content-Type\", \"application/json\");\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: headers,\r\n    };\r\n\r\n    fetch(`${process.env.REACT_APP_BACKEND}/genres`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setError(data.message);\r\n        } else {\r\n          setGenres(data);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  if (error !== null) {\r\n    return <div>Error : {error.message}</div>;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <h2>Genres</h2>\r\n        <hr />\r\n\r\n        <div className=\"list-group\">\r\n          {genres.map((g) => (\r\n            <Link\r\n              key={g.id}\r\n              className=\"list-group-item list-group-item-action\"\r\n              to={`/genres/${g.id}`}\r\n              state={{\r\n                genreName: g.genre,\r\n              }}\r\n            >\r\n              {g.genre}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Genres;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAExC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,OAAO,CAAG,GAAI,CAAAC,OAAO,CAAC,CAAC,CAE7BD,OAAO,CAACE,MAAM,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAElD,KAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAE,KAAK,CACbJ,OAAO,CAAEA,OACX,CAAC,CAEDK,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,YAAWN,cAAc,CAAC,CAC7DO,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACd,GAAIA,IAAI,CAACf,KAAK,CAAE,CACdC,QAAQ,CAACc,IAAI,CAACC,OAAO,CAAC,CACxB,CAAC,IAAM,CACLjB,SAAS,CAACgB,IAAI,CAAC,CACjB,CACF,CAAC,CAAC,CACDE,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIlB,KAAK,GAAK,IAAI,CAAE,CAClB,mBAAON,KAAA,QAAA2B,QAAA,EAAK,UAAQ,CAACrB,KAAK,CAACgB,OAAO,EAAM,CAAC,CAC3C,CAAC,IAAM,CACL,mBACEtB,KAAA,QAAA2B,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfzB,IAAA,QAAK,CAAC,cAENA,IAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAD,QAAA,CACxBvB,MAAM,CAACyB,GAAG,CAAEC,CAAC,eACZ5B,IAAA,CAACJ,IAAI,EAEH8B,SAAS,CAAC,wCAAwC,CAClDG,EAAE,YAAAjB,MAAA,CAAagB,CAAC,CAACE,EAAE,CAAG,CACtBC,KAAK,CAAE,CACLC,SAAS,CAAEJ,CAAC,CAACK,KACf,CAAE,CAAAR,QAAA,CAEDG,CAAC,CAACK,KAAK,EAPHL,CAAC,CAACE,EAQH,CACP,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CACF,CAAC,CAED,cAAe,CAAA7B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}