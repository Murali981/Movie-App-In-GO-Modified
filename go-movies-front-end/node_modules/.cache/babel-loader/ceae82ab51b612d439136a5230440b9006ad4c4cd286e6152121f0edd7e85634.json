{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Movie=()=>{const[movie,setMovie]=useState({});let{id}=useParams();useEffect(()=>{const headers=new Headers();headers.append(\"Content-Type\",\"application/json\");const requestOptions={method:\"GET\",headers:headers};fetch(\"\".concat(process.env.REACT_APP_BACKEND,\"/movies/\").concat(id),requestOptions).then(response=>response.json()).then(data=>{setMovie(data);}).catch(err=>{console.log(err);});},[id]);if(movie.genres){movie.genres=Object.values(movie.genres);}else{movie.genres=[];}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Movie : \",movie.title]}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"em\",{children:[movie.release_date,\" , \",movie.runtime,\" min , Rated \",movie.mpaa_rating]})}),/*#__PURE__*/_jsx(\"br\",{}),movie.genres.map(g=>/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary me-2\",children:g.genre},g.genre)),/*#__PURE__*/_jsx(\"hr\",{}),movie.image!==\"\"&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w200/\".concat(movie.image),alt:\"poster\"})}),/*#__PURE__*/_jsx(\"p\",{children:movie.description})]});};export default Movie;","map":{"version":3,"names":["useEffect","useState","useParams","jsxs","_jsxs","jsx","_jsx","Movie","movie","setMovie","id","headers","Headers","append","requestOptions","method","fetch","concat","process","env","REACT_APP_BACKEND","then","response","json","data","catch","err","console","log","genres","Object","values","children","title","release_date","runtime","mpaa_rating","map","g","className","genre","image","src","alt","description"],"sources":["D:/Go/React-With-Go/go-movies-front-end/src/components/Movie.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Movie = () => {\r\n  const [movie, setMovie] = useState({});\r\n\r\n  let { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const headers = new Headers();\r\n    headers.append(\"Content-Type\", \"application/json\");\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: headers,\r\n    };\r\n\r\n    fetch(`${process.env.REACT_APP_BACKEND}/movies/${id}`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setMovie(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [id]);\r\n\r\n  if (movie.genres) {\r\n    movie.genres = Object.values(movie.genres);\r\n  } else {\r\n    movie.genres = [];\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Movie : {movie.title}</h2>\r\n      <small>\r\n        <em>\r\n          {movie.release_date} , {movie.runtime} min , Rated {movie.mpaa_rating}\r\n        </em>\r\n      </small>\r\n      <br />\r\n      {movie.genres.map((g) => (\r\n        <span key={g.genre} className=\"badge bg-secondary me-2\">\r\n          {g.genre}\r\n        </span>\r\n      ))}\r\n      <hr />\r\n\r\n      {movie.image !== \"\" && (\r\n        <div className=\"mb-3\">\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w200/${movie.image}`}\r\n            alt=\"poster\"\r\n          />\r\n        </div>\r\n      )}\r\n      <p>{movie.description}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE7C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEtC,GAAI,CAAES,EAAG,CAAC,CAAGR,SAAS,CAAC,CAAC,CAExBF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,OAAO,CAAG,GAAI,CAAAC,OAAO,CAAC,CAAC,CAC7BD,OAAO,CAACE,MAAM,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAElD,KAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAE,KAAK,CACbJ,OAAO,CAAEA,OACX,CAAC,CAEDK,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,aAAAH,MAAA,CAAWP,EAAE,EAAII,cAAc,CAAC,CACnEO,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACdf,QAAQ,CAACe,IAAI,CAAC,CAChB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAE,CAAChB,EAAE,CAAC,CAAC,CAER,GAAIF,KAAK,CAACqB,MAAM,CAAE,CAChBrB,KAAK,CAACqB,MAAM,CAAGC,MAAM,CAACC,MAAM,CAACvB,KAAK,CAACqB,MAAM,CAAC,CAC5C,CAAC,IAAM,CACLrB,KAAK,CAACqB,MAAM,CAAG,EAAE,CACnB,CAEA,mBACEzB,KAAA,QAAA4B,QAAA,eACE5B,KAAA,OAAA4B,QAAA,EAAI,UAAQ,CAACxB,KAAK,CAACyB,KAAK,EAAK,CAAC,cAC9B3B,IAAA,UAAA0B,QAAA,cACE5B,KAAA,OAAA4B,QAAA,EACGxB,KAAK,CAAC0B,YAAY,CAAC,KAAG,CAAC1B,KAAK,CAAC2B,OAAO,CAAC,eAAa,CAAC3B,KAAK,CAAC4B,WAAW,EACnE,CAAC,CACA,CAAC,cACR9B,IAAA,QAAK,CAAC,CACLE,KAAK,CAACqB,MAAM,CAACQ,GAAG,CAAEC,CAAC,eAClBhC,IAAA,SAAoBiC,SAAS,CAAC,yBAAyB,CAAAP,QAAA,CACpDM,CAAC,CAACE,KAAK,EADCF,CAAC,CAACE,KAEP,CACP,CAAC,cACFlC,IAAA,QAAK,CAAC,CAELE,KAAK,CAACiC,KAAK,GAAK,EAAE,eACjBnC,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAP,QAAA,cACnB1B,IAAA,QACEoC,GAAG,oCAAAzB,MAAA,CAAqCT,KAAK,CAACiC,KAAK,CAAG,CACtDE,GAAG,CAAC,QAAQ,CACb,CAAC,CACC,CACN,cACDrC,IAAA,MAAA0B,QAAA,CAAIxB,KAAK,CAACoC,WAAW,CAAI,CAAC,EACvB,CAAC,CAEV,CAAC,CAED,cAAe,CAAArC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}